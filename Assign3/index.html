
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title> Assignment 3: Leaflet and JavaScript Project </title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css"/>
    <script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js"></script>
    <script src="https://code.jquery.com/jquery-3.1.0.js"></script>
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/modules/heatmap.js"></script>
    <script src="https://code.highcharts.com/modules/tilemap.js"></script>
    <script src="https://code.highcharts.com/modules/exporting.js"></script>
    <style>
        header, footer { padding: 0.5em; color: white; background-color: DarkSlateGray; clear: none; text-align: center; justify-content: left}
         h1{color: White; text-align: center; background: none; font-size: 28px; font-family: Calibri;}
         h2 {color:Black; text-align: center; font-size: 24px; font-family: Calibri;}
         h3 {color:Black; text-align: center; font-size: 20px; font-family: Calibri;} 
         p { color:Black; margin: auto; text-align: center; font-size: 18px; font-family: Calibri; }
         a { color:Blue; margin: auto; text-align: center; font-size: 15px; font-family: Calibri; }
         div {vertical-align: middle;margin: auto}
         nav{text-align: center; margin: auto;}

#map {

     position:relative;
     width: 1000px;
     height: 600px;

}
#map2 {
            width: 900px;
            height:500px;
            vertical-align: center;
        }

#container {
    background-color: Floralwhite;
    width: 1000px;
    margin-right: auto;
    margin-left: auto;
   border-style: solid;
   border-width: 5px;
}

.legend {
    line-height: 10px;
    color: #555;
    }

.legend i {
        width: 18px;
        height: 19px;
        float: left;
        margin-right: 8px;
        opacity: 0.8;
    }

.info {
        padding: 6px 8px;
        font: 10px/20px Arial, Helvetica, sans-serif;
        background: rgba(255,255,255,0.8);
        box-shadow: 0 0 15px rgba(0,0,0,0.2);
        border-radius: 7px;

    }

</style>
</head>>
<header>
    <h1>CRP 558 WEB MAPPING/GIS <br> Assignment 3: Leaflet and JavaScript Project </h1>
</header>
<body>
  <br>
  <nav style="color: Beige">
        <a href="..">Home</a>&nbsp;&nbsp;
        <a href="../ex1/">Exercise 1</a>&nbsp;&nbsp;
        <a href="../ex2/">Exercise 2</a>&nbsp;&nbsp;
        <a href="../Ex3/">Exercise 3</a>&nbsp;&nbsp;
        <a href="../ex4/ex4/">Exercise 4</a>&nbsp;&nbsp;
        <a href="../ex5/">Exercise 5</a>&nbsp;&nbsp;
        <a href="../ex6/">Exercise 6</a>&nbsp;&nbsp;
        <a href="../ex7/">Exercise 7</a>&nbsp;&nbsp;
        <a href="../ex8/">Exercise 8</a>&nbsp;&nbsp;
        <a href="../ex9/">Exercise 9</a>&nbsp;&nbsp;
        <a href="../ex10/">Exercise 10</a>&nbsp;&nbsp;
        <a href="../ex11/">Exercise 11</a>&nbsp;&nbsp;
        <a href="../ex12/">Exercise 12</a>
    </nav>
    <nav>
        <a class="colored_link" href="../Assignment1/assignment1.html">Assignment 1</a>&nbsp;&nbsp;
        <a class="colored_link" href="../Assignment2/index.html">Assignment 2</a>&nbsp;&nbsp;
        <a class="colored_link" href="../Assign3/index.html">Assignment 3</a>
    </nav>
<br>
 <div id="pics"></div> 
      <body data-np-sl-ts-op-loaded="true">
        <p> In this page, I am going to talk about my spring break trip to Universal Studios, Florida. I have included a few images of Universal studios. 
          Following that I also included a map showing the population density in the US states using the Highmap. 
          Lastly, I have included a map showing the places I am planning on visiting before moving to my new destination and starting my Ph.D.</p>
         
        <h3> Universal Studios, Orlando, Florida </h3>
        
          <p> As I already mentioned, I have visited the Universal Studios in Orlando, Florida this spring break. Its like a dream come true event. 
            I was planning on going there ever since i have been here in the U.S. Besides, I am big fan of Harry Potter and the wizarding worlds 
            of Hogwarts. It was an excellent trip to visit there. I will start with a few pictures of Universal Studios. </p>
          <br>
          <p>
        <img name="slide" id="slide" width="1000" height="600" src=" "></p>
        
       <script>
           //images of Universal Studios!  <---- [inclusion of at least 2 images]
           var i =0; 
           var images = [];
           var time = 2000;
         
           //setting the sources of the images for the slideshow
         
           images [0] = "http://static.asiawebdirect.com/m/bangkok/portals/orlando-com/homepage/attractions/universal-studios/allParagraphs/BucketComponent/ListingContainer/00/image/universal-studios-orlando-1.jpg";
           images [1] = "https://1fpypn35pt1l3uwyne14018c-wpengine.netdna-ssl.com/wp-content/uploads/2017/09/Stoen_170901_0148-1.jpg";
           images [2] = "https://i.pinimg.com/originals/bc/16/d6/bc16d6214052a0185dd611ee49396a0a.jpg";
           images [3] = "https://stuffedsuitcase.com/wp-content/uploads/2014/05/universal-studios-orlando-tips-guide-775x450.jpg";
           
           //function: slideshow
         
           function changeImg() {
               document.slide.src = images [i];
               
               if(i < images.length - 1){
                 i++;
               } else {
                   i =0;
               }
            setTimeout("changeImg()", time);
           }
           
           window.onload = changeImg;
        </script> 
          <br><br> 

</script>
     
  <h3> HighMap showing Population Density in US States. </h3>         
          <p>
          Now let's see the US states and how densely populated these states are. 
          </p><br> 
  <div id="container"></div>
            <script>
   // Using HighMap. <-- [inclusion of one highmap or highchart.]
Highcharts.chart('container', {
    chart: {
        type: 'tilemap',
        inverted: true,
        height: '80%'
    },

    title: {
        text: 'U.S. States by Population Density in 2015'
    },

    subtitle: {
        text: 'Source:<a href="https://en.wikipedia.org/wiki/List_of_states_and_territories_of_the_United_States_by_population_density">Wikipedia</a>'
    },

    xAxis: {
        visible: false
    },

    yAxis: {
        visible: false
    },

    colorAxis: {
        dataClasses: [{
            from: 0,
            to: 1,
            color: '#F9EDB3',
            name: '< 2/sq.mi'
        }, {
            from: 2,
            to: 50,
            color: '#FFC428',
            name: '2/sq.mi-50/sq.mi'
        }, {
            from: 50,
            to: 100,
            color: '#FF7987',
            name: '50/sq.mi - 100/sq.mi'
        }, {
            from: 100,
            to: 300,
            color: '#E2A76F',
            name: '100/sq.mi - 300/sq.mi'
        },{
            from: 300,
            to: 600,
            color: '#A52A2A',
            name: '300/sq.mi - 600/sq.mi'
        },{
            from: 600,
            color: '#FF2371',
            name: '> 600/sq.mi'
        }]
    },

    tooltip: {
        headerFormat: '',
        pointFormat: 'The population density of <b> {point.name}</b> is <b>{point.value} per sq. mile.</b>'
    },

    plotOptions: {
        series: {
            dataLabels: {
                enabled: true,
                format: '{point.hc-a2}',
                color: '#000000',
                style: {
                    textOutline: false
                }
            }
        }
    },

    series: [{
        name: '',
        data: [{
            'hc-a2': 'AL',
            name: 'Alabama',
            region: 'South',
            x: 6,
            y: 7,
            value: 95
        }, {
            'hc-a2': 'AK',
            name: 'Alaska',
            region: 'West',
            x: 0,
            y: 0,
            value: 1
        }, {
            'hc-a2': 'AZ',
            name: 'Arizona',
            region: 'West',
            x: 5,
            y: 3,
            value: 60
        }, {
            'hc-a2': 'AR',
            name: 'Arkansas',
            region: 'South',
            x: 5,
            y: 6,
            value: 57
        }, {
            'hc-a2': 'CA',
            name: 'California',
            region: 'West',
            x: 5,
            y: 2,
            value: 251
        }, {
            'hc-a2': 'CO',
            name: 'Colorado',
            region: 'West',
            x: 4,
            y: 3,
            value: 52
        }, {
            'hc-a2': 'CT',
            name: 'Connecticut',
            region: 'Northeast',
            x: 3,
            y: 11,
            value: 741
        }, {
            'hc-a2': 'DE',
            name: 'Delaware',
            region: 'South',
            x: 4,
            y: 9,
            value: 485
        }, {
            'hc-a2': 'DC',
            name: 'District of Columbia',
            region: 'South',
            x: 4,
            y: 10,
            value: 11011
        }, {
            'hc-a2': 'FL',
            name: 'Florida',
            region: 'South',
            x: 8,
            y: 8,
            value: 378
        }, {
            'hc-a2': 'GA',
            name: 'Georgia',
            region: 'South',
            x: 7,
            y: 8,
            value: 177
        }, {
            'hc-a2': 'HI',
            name: 'Hawaii',
            region: 'West',
            x: 8,
            y: 0,
            value: 222
        }, {
            'hc-a2': 'ID',
            name: 'Idaho',
            region: 'West',
            x: 3,
            y: 2,
            value: 20
        }, {
            'hc-a2': 'IL',
            name: 'Illinois',
            region: 'Midwest',
            x: 3,
            y: 6,
            value: 231
        }, {
            'hc-a2': 'IN',
            name: 'Indiana',
            region: 'Midwest',
            x: 3,
            y: 7,
            value: 184
        }, {
            'hc-a2': 'IA',
            name: 'Iowa',
            region: 'Midwest',
            x: 3,
            y: 5,
            value: 55
        }, {
            'hc-a2': 'KS',
            name: 'Kansas',
            region: 'Midwest',
            x: 5,
            y: 5,
            value: 36
        }, {
            'hc-a2': 'KY',
            name: 'Kentucky',
            region: 'South',
            x: 4,
            y: 6,
            value: 112
        }, {
            'hc-a2': 'LA',
            name: 'Louisiana',
            region: 'South',
            x: 6,
            y: 5,
            value: 108
        }, {
            'hc-a2': 'ME',
            name: 'Maine',
            region: 'Northeast',
            x: 0,
            y: 11,
            value: 43
        }, {
            'hc-a2': 'MD',
            name: 'Maryland',
            region: 'South',
            x: 4,
            y: 8,
            value: 618
        }, {
            'hc-a2': 'MA',
            name: 'Massachusetts',
            region: 'Northeast',
            x: 2,
            y: 10,
            value: 871
        }, {
            'hc-a2': 'MI',
            name: 'Michigan',
            region: 'Midwest',
            x: 2,
            y: 7,
            value: 175
        }, {
            'hc-a2': 'MN',
            name: 'Minnesota',
            region: 'Midwest',
            x: 2,
            y: 4,
            value: 68
        }, {
            'hc-a2': 'MS',
            name: 'Mississippi',
            region: 'South',
            x: 6,
            y: 6,
            value: 63
        }, {
            'hc-a2': 'MO',
            name: 'Missouri',
            region: 'Midwest',
            x: 4,
            y: 5,
            value: 88
        }, {
            'hc-a2': 'MT',
            name: 'Montana',
            region: 'West',
            x: 2,
            y: 2,
            value: 7
        }, {
            'hc-a2': 'NE',
            name: 'Nebraska',
            region: 'Midwest',
            x: 4,
            y: 4,
            value: 24
        }, {
            'hc-a2': 'NV',
            name: 'Nevada',
            region: 'West',
            x: 4,
            y: 2,
            value: 26
        }, {
            'hc-a2': 'NH',
            name: 'New Hampshire',
            region: 'Northeast',
            x: 1,
            y: 11,
            value: 148
        }, {
            'hc-a2': 'NJ',
            name: 'New Jersey',
            region: 'Northeast',
            x: 3,
            y: 10,
            value: 1218
        }, {
            'hc-a2': 'NM',
            name: 'New Mexico',
            region: 'West',
            x: 6,
            y: 3,
            value: 17
        }, {
            'hc-a2': 'NY',
            name: 'New York',
            region: 'Northeast',
            x: 2,
            y: 9,
            value: 420
        }, {
            'hc-a2': 'NC',
            name: 'North Carolina',
            region: 'South',
            x: 5,
            y: 9,
            value: 206
        }, {
            'hc-a2': 'ND',
            name: 'North Dakota',
            region: 'Midwest',
            x: 2,
            y: 3,
            value: 10
        }, {
            'hc-a2': 'OH',
            name: 'Ohio',
            region: 'Midwest',
            x: 3,
            y: 8,
            value: 284
        }, {
            'hc-a2': 'OK',
            name: 'Oklahoma',
            region: 'South',
            x: 6,
            y: 4,
            value: 57
        }, {
            'hc-a2': 'OR',
            name: 'Oregon',
            region: 'West',
            x: 4,
            y: 1,
            value: 41
        }, {
            'hc-a2': 'PA',
            name: 'Pennsylvania',
            region: 'Northeast',
            x: 3,
            y: 9,
            value: 286
        }, {
            'hc-a2': 'RI',
            name: 'Rhode Island',
            region: 'Northeast',
            x: 2,
            y: 11,
            value: 1021
        }, {
            'hc-a2': 'SC',
            name: 'South Carolina',
            region: 'South',
            x: 6,
            y: 8,
            value: 162
        }, {
            'hc-a2': 'SD',
            name: 'South Dakota',
            region: 'Midwest',
            x: 3,
            y: 4,
            value: 11
        }, {
            'hc-a2': 'TN',
            name: 'Tennessee',
            region: 'South',
            x: 5,
            y: 7,
            value: 160
        }, {
            'hc-a2': 'TX',
            name: 'Texas',
            region: 'South',
            x: 7,
            y: 4,
            value: 105
        }, {
            'hc-a2': 'UT',
            name: 'Utah',
            region: 'West',
            x: 5,
            y: 4,
            value: 36
        }, {
            'hc-a2': 'VT',
            name: 'Vermont',
            region: 'Northeast',
            x: 1,
            y: 10,
            value: 67
        }, {
            'hc-a2': 'VA',
            name: 'Virginia',
            region: 'South',
            x: 5,
            y: 8,
            value: 212
        }, {
            'hc-a2': 'WA',
            name: 'Washington',
            region: 'West',
            x: 2,
            y: 1,
            value: 107
        }, {
            'hc-a2': 'WV',
            name: 'West Virginia',
            region: 'South',
            x: 4,
            y: 7,
            value: 76
        }, {
            'hc-a2': 'WI',
            name: 'Wisconsin',
            region: 'Midwest',
            x: 2,
            y: 5,
            value: 106
        }, {
            'hc-a2': 'WY',
            name: 'Wyoming',
            region: 'West',
            x: 3,
            y: 3,
            value: 6
        }]
    }]
});


    </script>
          <br>
          <p> Florida is one of the most densely populated states in the US, as it is evident from the above Highmap!</p>
          <br><br>
          <p> In the subsequent section, I have shown the places i want to go this summer. I am graduating in early summer and I want to visit a lot of places before starting my Ph.D. in Fall 2019!</p><br>
 <p> My friends are planning on visiting California, Nevada, Utah, Arizona, Colorado and Idaho this summer. We all are planning on attending the ESRI User Conference in San Diego and go on a road trip in those areas.
   I think that is an amazing idea for exploring western U.S.</p>  
    <br><br>
                       
<div id="map"></div>
      
  <script>
console.clear();
// Setting the layer Control: [At least 2 base map, 2 overlays]
      //Base Layers
var OSM = L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {
    attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',
    maxZoom: 20
});
var OpenTopoMap = L.tileLayer('https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png', {
  maxZoom: 17,
  attribution: 'Map data: &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, <a href="http://viewfinderpanoramas.org">SRTM</a> | Map style: &copy; <a href="https://opentopomap.org">OpenTopoMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'
});
var MapQuestOpen_Aerial = L.tileLayer('http://oatile{s}.mqcdn.com/tiles/1.0.0/sat/{z}/{x}/{y}.jpg', {
  attribution: 'Tiles Courtesy of <a href="http://www.mapquest.com/">MapQuest</a> &mdash; Portions Courtesy NASA/JPL-Caltech and U.S. Depart. of Agriculture, Farm Service Agency',
  subdomains: '1234'
});
var Esri_WorldImagery = L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', {
  attribution: 'Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community'
});

// Overlay layers
var Stamen_TonerLines = L.tileLayer('http://{s}.tile.stamen.com/toner-lines/{z}/{x}/{y}.png', {
  attribution: 'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>',
  subdomains: 'abcd',
  minZoom: 0,
  maxZoom: 20
});
//Vector and Marker Layers
var california = L.marker([34.071297, -118.267235]).bindPopup('Los Angeles'),
    california2 = L.marker([37.783333, -122.416667]).bindPopup('San Fransisco'),
    nevada   = L.marker([36.265829, -115.341351]).bindPopup('Las Vegas'),
    utah    = L.marker([40.764903, -112.131959]).bindPopup('Salt Lake City'),
    Arizona = L.marker([36.107772, -112.042613]).bindPopup('Grand Canynon'),
    Colorado = L.marker([38.841739, -105.042474]).bindPopup('Pikes Peak'),
    Idaho   = L.marker([43.664045, -114.664420]).bindPopup('Smoky Mountains');    

var pointD = new L.LatLng(37.783333, -122.416667);
var pointA = new L.LatLng(34.071297, -118.267235);
var pointB = new L.LatLng(36.265829, -115.341351);
var pointE = new L.LatLng(36.107772, -112.042613);
var pointC = new L.LatLng(40.764903, -112.131959);
var pointF = new L.LatLng(38.841739, -105.042474);
var pointG = new L.LatLng(43.664045, -114.664420);

var pointList = [pointD, pointA, pointB, pointE, pointC, pointF, pointG];
var myPolyline = new L.Polyline(pointList, {
    color: 'purple',
    weight: 3,
    opacity: 1,
    smoothFactor: 2,
    dashArray: '4,10,18,10',
lineJoin: 'miter',
lineCap: 'square'
});
var Cities = L.layerGroup([california, california2, nevada, utah, Arizona, Colorado, Idaho]);
      
//create the map
var map = L.map('map', {
        center: new L.LatLng(34.5, -111),
        zoom: 4,
        layers: [OSM, Stamen_TonerLines, Cities]
    });
//layer control
    var baseMaps = {
      "OpenStreetMap": OSM,
      "OpenTopoMap": OpenTopoMap, "Esri_WorldImagery": Esri_WorldImagery
    };
          
    var overlayMaps = {
      "Stamen TonerLines": Stamen_TonerLines,
      "Cities": Cities,
      "Polyline": myPolyline
      
    };
  
    L.control.layers(baseMaps, overlayMaps).addTo(map);
      
//Geojson map: Priority ---  [1 external Geojson]
 
    var myPoints = [
        [3 ,41.3, -124, "Redwood National Park"],
        [3 ,37.85, -119.55, "Yosemite National Park"],
        [9 ,37.6283, -112.168, "Bryce Cannyon National Park"],
        [6 ,38.68333, -109.567, "Arches National Park"],
        [9 ,44.6, -110.5, "Yellow Stone National Park"],
        [6 ,36.98333, -110.1, "Monument Vally National Park"],
        [9 ,38.841739, -105.042474, "Pikes Peak"],
        [9 ,43.664045, -114.664420, "Smoky Mountains"],
        [3 ,36.107772, -112.042613, "Grand Canynon"],
        [9 ,36.172518, -115.158422, "Las Vegas"],
        [6 ,38.829061, -104.811980, "Colordao Springs"],
        [6, 36.570281, -117.056768, "Death Valley"],
];
  //Priority Setting
var breaks = [3, 6, 9,]; 
var labels = ['Low Priority', 'Medium Priority', 'High Priority'];
   //Setting the color of th marker based on Priority
function getColor(d) {
    return  d == '3' ? "#3ACE2A" :
    d == '6' ? "#312CCE" :
    d == '9' ? "#CE4F36":
    "#FFFFFF";
}
for (var i = 0; i < myPoints.length; i++) {
    marker = new L.circleMarker([myPoints[i][1],myPoints[i][2]], {
    radius: myPoints[i][0]*5/2,
    fillColor: getColor(myPoints[i][0]), 
    color: "#000",
    stroke: true,
    weight: 1,
    opacity: 1,
    fillOpacity: 0.9   
})
.bindPopup(myPoints[i][3]) //note there is no comma here
.addTo(map);
}
//Setting the legend based on the color and priority
var legend = L.control({position: 'bottomright'});
legend.onAdd = function (map) {
    var div = L.DomUtil.create('div', 'info legend');
    // loop through items and generate legend items each
    for (var i = 0; i < breaks.length; i++) {
        div.innerHTML +=
            '<i style="background:' + getColor(breaks[i]) + ' "></i> ' +
            labels[i] + (breaks ? '' +  '<br>' : '');
    }
    return div;
};
legend.addTo(map);  
     </script>

<br>
<footer> <b>Rakibul Ahasan</b> <br> Department of Community and Regional Planning <br> Iowa State University <br> Ames, IA 50011. 
</footer>
    </body>
      
</html>